<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calcular Fechas</title>
</head>

<body>
    <h1>Introduce tu fecha de nacimiento</h1>
    <form action="archivo.php" id="form">
        <h2>Introduce tu fecha de nacimeinto</h2>
        <label for="fecha">Fecha de nacimiento:</label>
        <input type="date" id="fecha" name="fecha" required>
        <button type="submit" onclick="calcularEdad()">Enviar</button>
    </form>
    <h2>Tu edad es: <span id="Edad"></span></h2>
    <script>

        //  const fechaItroducida = prompt("Introduce tu fecha de nacimiento (DD/MM/YYYY):");

        function calcularEdad() {
            
            const fechaItroducida = document.querySelector("#fecha").value; // 
            let fechaObjeto = new Date(fechaItroducida);
            if (isNaN(fechaObjeto.getTime())) { // Comprobar si la fecha es válida
                alert("Fecha no válida");
                location.reload();
            }
            const fechaActual = new Date();
            const anoActual = fechaActual.getFullYear(); // Obtener el año actual
            const anoNacim = fechaObjeto.getFullYear(); // Obtener el año de nacimiento
            const mesActual = fechaActual.getMonth(); // Obtener el mes actual
            const mesNacimiento = fechaObjeto.getMonth(); // Obtener el mes de nacimiento
            const diaActual = fechaActual.getDate(); // Obtener el día actual
            const diaNacimiento = fechaObjeto.getDate(); // Obtener el día de nacimiento
            let edad = anoActual - anoNacim; // Calcular la edad

            // si el mes actual, es menor que el mes de nacimiento o si es igual pero el día es menor que el día actual
            if (mesActual < mesNacimiento || (mesActual === mesNacimiento && diaActual < diaNacimiento)) {
                edad--; // Restar un año a la edad
            }
            document.querySelector("#Edad").innerHTML = edad; // Mostrar la edad en el HTML
        }
    </script>
</body>

</html>